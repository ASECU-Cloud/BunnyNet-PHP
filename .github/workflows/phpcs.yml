name: "PHP_CodeSniffer"

on:
    push:
        branches:
            - 'master'
    pull_request:
        branches:
            - 'master'

jobs:
    phpcs:
        runs-on: ubuntu-latest
        steps:
            -   uses: actions/checkout@v2
                with:
                    fetch-depth: 0

            -   name: Install PHP_CodeSniffer
                run: |
                    curl -OL https://squizlabs.github.io/PHP_CodeSniffer/phpcs.phar
                    php phpcs.phar --version

            -   name: PHPCS check
                uses: chekalsky/phpcs-action@v1
                with:
                    enable_warnings: true